<view class="container">
  <view class="yiyan"><text>{{hitokoto}}</text></view>
  <view class="yiyan"><text>{{hitokoto0}}</text></view>
  <view class="header">
    <view class="search-box flex-row">
      <input class="search-input" placeholder="ÊêúÁ¥¢‰π¶Á±ç" bindinput="onSearchInput" value="{{searchKey}}" />
      <text class="search-icon" wx:if="{{!searchKey}}">üîç</text>
      <text class="clear-icon" bindtap="clearSearch" wx:if="{{searchKey}}">‚úñ</text>
    </view>
    <view class="upload-btn" bindtap="goToUpload">‰∏ä‰º†‰π¶Á±ç</view>
  </view>

  <!-- Âä†ËΩΩ‰∏≠ÊèêÁ§∫ -->
  <view class="loading" wx:if="{{loading}}">Âä†ËΩΩ‰∏≠...</view>

  <!-- Êó†Êï∞ÊçÆÊèêÁ§∫ -->
  <view class="empty-tip" wx:if="{{!loading && filteredBooks.length === 0}}">
    <view>ÊöÇÊó†‰π¶Á±ç</view>
    <view style="margin-top: 20rpx;">
      <button bindtap="goToUpload" class="btn-primary" style="width: 260rpx; font-size: 28rpx;">‰∏ä‰º†Êñ∞‰π¶Á±ç</button>
    </view>
  </view>

  <!-- ‰π¶Á±çÂàóË°® -->
  <view class="book-list" wx:if="{{filteredBooks.length > 0}}">
    <view class="book-item card" wx:for="{{filteredBooks}}" wx:key="_id" bindtap="goToDetail" data-id="{{item._id}}">
      <view class="book-cover">
        <text class="book-icon">üìö</text>
      </view>
      <view class="book-info">
        <view class="book-title">{{item.title}}</view>
        <view class="book-author">{{item.author || '‰ΩöÂêç'}}</view>
        <view class="book-meta flex-row">
          <text class="book-size">{{item.fileSizeDisplay}}</text>
          <text class="book-time">{{item.timeDisplay}}</text>
        </view>
      </view>
    </view>
  </view>
</view>